# mi-trainee-avito-test
Тестовое задание для стажера в юнит Market Intelligence (Avito)

## Стек: 
Python 3, Django 3, Django REST Framework, PostgreSQL, Docker, Gunicorn, Nginx, Unittest

### Описание
Это REST API сервиса для голосования. Например, для выбора самого популярного покемона.

Реализован пользовательский функционал дающий возможность пользоваться приложением не посещая сайт:
*	`POST /api/createPoll/` Создавать новые голосования с вариантами ответов.
*	`GET /api/poll/` Просматривать список доступных голосований. Натроена пагинация.
*	`PATCH /api/poll/<poll_id>/` Отдать свой голос за какой-либо вариант.
*	`GET /api/getResult/<poll_id>/` Получить текущий результат голосования.

### Установка
- склонируйте проект с реппозитория GitHub
    ```
    git clone https://github.com/wiky-avis/mi-trainee-avito-test.git
    ```
- перейдите в директорию mi-trainee-avito-test/
    ```
    cd mi-trainee-avito-test/
    ```
- запустите docker-compose
    ```
    docker-compose up
    ```

### Использование
- зайдите на страницу http://localhost:8000/redoc/ 
и воспользуйтесь документацией к API :smile:
- примеры запросов можно посмотреть в файле requests.http
- запуск тестов
    ```
    docker-compose run --rm web python manage.py test
    ```
- Отчет с оценкой тестового покрытия на проекте http://localhost:8000/coverage/
- создать суперпользователя
    ```
    docker-compose run --rm web python manage.py createsuperuser
    ```
- заполнить базу тестовыми данными
    ```
    docker-compose run --rm web python manage.py loaddata db.json
    ```
    
### Список работ и порядок выполнения задания:
1. Создание проекта:

    - Создание репозитория на GitHub и его клонирование на компьютер
    - Создание виртуального окружения и установка необходимых приложений
    - Создание проекта и приложений
    - Предварительные настройки/конфигурация проекта, удаление ненужных файлов, конфигурация URL-ов, настройка базы данных PostgreSQL
 
 2. Создание схемы базы данных:
    
    - Создание модели для голосования
    - Создание модели вариантов ответа
    - Создание миграций базы данных
    - Настройка отображения моделей в панели администратора

3. Создание API:
    
    - API для создания голосования с вариантами ответов
    - API для голосования за конкретный вариант
    - API для для просмотра результата по конкретному голосованию
    - Создание документации к API
 
 3. Создание тестов:
    
    - Тесты для проверки моделей базы данных
    - Тесты для проверки доступности урлов
    - Тесты для проверки вьюх
    - Создание автоматического отчета coverage report

 4. Контейнеризация приложения:
    
    - Настройка docker

5. Написание README


<iframe width="768" height="432" src="https://miro.com/app/embed/o9J_l-JKAMc=/?pres=1&frameId=3074457360382815123" frameBorder="0" scrolling="no" allowFullScreen></iframe>
